<html>
<head>
  <link rel="stylesheet" type="text/css" href="styles.css" media="screen"/>
  <title>BAMS Time</title>

<script>
function init(){
  bellSchedule();

}

function bellSchedule() {
  let d = new Date();
  let currentDayOfWeek = d.getDay();
  let currentYear = d.getYear() - 100;
  let currentMonth = d.getMonth() + 1;
  let todaysDate = currentMonth.toString() + d.getDate().toString() + currentYear.toString();

  let currentTimeIndex = d.getHours() + "" + (d.getMinutes()<10?'0':'') + d.getMinutes();
  let currentMessage = "";
  let nextMessage = "";
  let plusNextMessage = "";
  let sched = [];
  let schedTitle = "";

if (todaysDate == 22621 || todaysDate == 31221 || todaysDate == 4921 || todaysDate == 42321 || todaysDate == 5721 || todaysDate == 52121 || todaysDate == 6421){
      schedTitle = "This is Friday's 'A' bell schedule.";
      sched = [
        { t: 0, msg: "Friday A Schedule" },
        { t: 815, msg: "Breakfast     <br />   8:15 -  8:30" },
        { t: 830, msg: "1st Period    <br />	 8:30 -  9:15" },
        { t: 915, msg: "Transition    <br />	 9:15 -  9:18" },
        { t: 918, msg: "2nd Period    <br />   9:18 - 10:03" },
        { t: 1003, msg: "Transition   <br />  10:03 - 10:06" },
        { t: 1006, msg: "3rd Period   <br />  10:06 - 10:51" },
        { t: 1051, msg: "Transition   <br />  10:51 - 10:54" },
        { t: 1054, msg: "4th Period   <br />  10:54 - 11:39" },
        { t: 1139, msg: "Transition   <br />  11:39 - 11:42" },
        { t: 1142, msg: "Advisory     <br />  11:42 - 12:14" },
        { t: 1214, msg: "Lunch                    <br />  12:30 - 1:00" },
        { t: 1300, msg: "Teacher's Conference     <br />  1:00 -  1:30" },
        { t: 1330, msg: "Teacher's PLC Period     <br />   1:30 -  4:00" },
        { t: 1600, msg: "School is out!" },
        { t: 2400, msg: "clock will reset"},
      ];
      let sl = sched.length;
    }
    if (todaysDate == 21721){
          schedTitle = "Spring Interim Testing schedule.";
          sched = [
            { t: 0, msg: "Testing schedule" },
            { t: 815, msg: "Breakfast     <br />   8:15 -  8:30" },
            { t: 830, msg: "Students Report to 1st Period<br />8:30 -  8:35" },
            { t: 835, msg: "Go to Advisory<br />Testing is scheduled to start at 8:45" },
            { t: 845, msg: "Testing in Advisory<br /> Follow Teacher's Instructions" },
            { t: 1215, msg: "7th Grade Lunch<br />8th Grade Advisory<br />  12:15 - 12:45" },
            { t: 1245, msg: "7th Grade Advisory<br />8th Grade Lunch<br />  12:45 - 1:15" },
            { t: 1315, msg: "Transition" },
            { t: 1318, msg: "1st Period<br /> 1:18 - 1:55" },
            { t: 1355, msg: "Transition" },
            { t: 1358, msg: "2nd Period<br /> 1:58 - 2:35" },
            { t: 1435, msg: "Transition" },
            { t: 1438, msg: "3rd Period<br />2:38 - 3:15" },
            { t: 1515, msg: "Transition" },
            { t: 1518, msg: "4th Period<br /> 3:18 - 4:00" },
            { t: 1600, msg: "School is out!" },
            { t: 2400, msg: "clock will reset"},
          ];
          let sl = sched.length;
        }
  else if (currentDayOfWeek == 5){
          schedTitle = "This is Friday's 'B' bell schedule.";
          sched = [
            { t: 0, msg: "Friday B Schedule" },
            { t: 815, msg: "Breakfast     <br />   8:15 -  8:30" },
            { t: 830, msg: "7th Period    <br />	 8:30 -  9:15" },
            { t: 915, msg: "Transition    <br />	 9:15 -  9:18" },
            { t: 918, msg: "8th Period    <br />   9:18 - 10:03" },
            { t: 1003, msg: "Transition   <br />  10:03 - 10:06" },
            { t: 1006, msg: "9th Period   <br />  10:06 - 10:51" },
            { t: 1051, msg: "Transition   <br />  10:51 - 10:54" },
            { t: 1054, msg: "10th Period   <br />  10:54 - 11:39" },
            { t: 1139, msg: "Transition   <br />  11:39 - 11:42" },
            { t: 1142, msg: "Advisory     <br />  11:42 - 12:14" },
            { t: 1214, msg: "Lunch                    <br />  12:14 - 1:00" },
            { t: 1300, msg: "Teacher's Conference     <br />  1:00 -  1:30" },
            { t: 1330, msg: "Teacher's PLC Period     <br />   1:30 -  4:00" },
            { t: 1600, msg: "School is out!" },
            { t: 2400, msg: "clock will reset"},
          ];
          let sl = sched.length;
        }
  else if (currentDayOfWeek == 0 || currentDayOfWeek == 6){
    schedTitle = "It's the WEEKEND! Enjoy!";
    sched = [
      { t: 0, msg: "School is out!" },
      { t: 1, msg: "School is out!" },
      { t: 2359, msg: "School is out!"},
    ];
    let sl = sched.length;
  }
  else {
    schedTitle = "This is the REGULAR bell schedule for M-Th.";
    sched = [
      { t: 0, msg: "8:15<br />	First Bell" },
      { t: 815, msg: "Breakfast     <br />   8:15 -  8:30" },
      { t: 830, msg: "1st Period    <br />	 8:30 -  9:15" },
      { t: 915, msg: "Transition    <br />	 9:15 -  9:18" },
      { t: 918, msg: "2nd Period    <br />   9:18 - 10:03" },
      { t: 1003, msg: "Transition   <br />  10:03 - 10:06" },
      { t: 1006, msg: "3rd Period   <br />  10:06 - 10:51" },
      { t: 1051, msg: "Transition   <br />  10:51 - 10:54" },
      { t: 1054, msg: "4th Period   <br />  10:54 - 11:39" },
      { t: 1139, msg: "Transition   <br />  11:39 - 11:42" },
      { t: 1142, msg: "7th Grade Lunch<br />8th Grade Advisory<br />  11:42 - 12:14" },
      { t: 1214, msg: "Transition   <br />  12:14 - 12:17" },
      { t: 1217, msg: "7th Grade Advisory<br />8th Grade Lunch<br />  12:17 - 12:49" },
      { t: 1249, msg: "Transition   <br />  12:49 - 12:52" },
      { t: 1252, msg: "7th Period   <br />  12:52 -  1:37" },
      { t: 1337, msg: "Transition   <br />   1:37 -  1:40" },
      { t: 1340, msg: "8th Period   <br />   1:40 -  2:25" },
      { t: 1425, msg: "Transition   <br />   2:25 -  2:28" },
      { t: 1428, msg: "9th Period   <br />   2:28 -  3:13" },
      { t: 1513, msg: "Transition   <br />   3:13 -  3:16" },
      { t: 1516, msg: "10th Period  <br />   3:16 -  4:01" },
      { t: 1601, msg: "School is out!" },
      { t: 2400, msg: "clock will reset"},
    ];
  }

  document.getElementById("schedTitle").innerHTML = schedTitle;

  let sl = sched.length;
  for (let i = 0; i < sl; i++) {
    if (currentTimeIndex >= sched[i].t) {
      currentMessage = sched[i].msg;
      document.getElementById("message").innerHTML = currentMessage;
      nextMessage = "";
      plusNextMessage = "";

      let ni = i+1; let nii = i+2;
      if (ni < sl && nii < sl) {
          nextMessage = sched[ni].msg;
          document.getElementById("next-message").innerHTML = "Next Up...<br />" + nextMessage;
          plusNextMessage = sched[nii].msg;
          document.getElementById("plus-next-message").innerHTML = "Then...<br />" + plusNextMessage;
      }
    var countDown = (Math.trunc(sched[ni].t/100) * 60 + sched[ni].t % 100) - (Math.trunc(currentTimeIndex/100) * 60 + currentTimeIndex % 100);
    var countDownSeconds = 59 - d.getSeconds();
    }
  }

  if(countDown < 5){
    countDown = countDown - 1;
    document.getElementById("countdown").innerHTML = "<span style='color:red'>" + countDown + ":" + (countDownSeconds<10?'0':'') + countDownSeconds;
  }
  else {
    document.getElementById("countdown").innerHTML =  "<span style='color:#0044aa'>Minutes Remaining: </style>" + countDown;
  }

  document.getElementById("clock").innerHTML = d;

  setTimeout(function () { bellSchedule() }, 1000);
}


</script>
</head>

<body onload="init()">
  <noscript>
    You will need JavaScript to use this site.
  </noscript>

<div id="wrapper">

  <div id="header">
    <p class="title">
      <img src="logo.png" class="titleImg"/>
      BAMS <span style="color:darkred;">Time</span>
      <img src="logo.png" class="titleImg" />
    </p>
  </div>

  <div id="content">

    <p id="clock"></p>
    <p id="schedTitle"></p>

    <div id="schedulebox">
      <h1>
      <p id="message"></p>
      <p id="countdown"></p>
      <br />
      <p id="next-message"></p>
      <br />
      <p id="plus-next-message"></p>
      <p><br /></p>
      <p id="studentMessage">Messages:<br /><br /></p>
      <p id="studentMessage">- <a href="https://youtu.be/iZiB-pNiGMg" target="_blank">What is bamstime and where did it come from??? Click Here</a><br /><br /></p>
      <p id="studentMessage">- Students, you can access your schedule and grades online - <a href="https://hac.yisd.net/HomeAccess/Account/LogOn?ReturnUrl=%2fHomeAccess" target="_blank">HERE</a><br /><br /><p>
    </div>




</div>
</body>
</html>
